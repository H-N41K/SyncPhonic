var _0x5460=['\x09return\x20pow(\x20ret,\x20vec3(1.0/2.2)\x20);','float\x20nrand(\x20vec2\x20n\x20)','\x09return\x20fract(sin(dot(n.xy,\x20vec2(12.9898,\x2078.233)))*\x2043758.5453);','vec3\x20lin2srgb(\x20vec3\x20c\x20)','\x20\x20\x20\x20return\x20pow(\x20c,\x20vec3(gamma)\x20);','vec3\x20srgb2lin(\x20vec3\x20c\x20)','\x20\x20\x20\x20return\x20pow(\x20c,\x20vec3(1.0/gamma));','vec2\x20uv\x20=\x20vUv;','vec2\x20max_distort\x20=\x20vec2(amount);','uv\x20=\x202.0\x20*\x20uv\x20-\x201.0;','uv\x20=\x20uv\x20/\x20(oversiz*oversiz);','uv\x20=\x200.5\x20*\x20uv\x20+\x200.5;','vec3\x20sumcol\x20=\x20vec3(0.0);','vec3\x20sumw\x20=\x20vec3(0.0);','for\x20(\x20int\x20i=0;\x20i<num_iter;++i\x20){','float\x20t\x20=\x20(float(i)+rnd)\x20*\x20reci_num_iter_f;','sumcol\x20+=\x20w\x20*\x20srgb2lin(texture2D(\x20tDiffuse,\x20barrelDistortion(uv,\x20max_distort*t\x20)\x20).rgb);','sumcol.rgb\x20/=\x20sumw;','vec3\x20outcol\x20=\x20lin2srgb(sumcol.rgb);','outcol\x20+=\x20rnd/255.0;','gl_FragColor\x20=\x20vec4(\x20outcol,\x201.0);','join','BarrelBlurShader','varying\x20vec2\x20vUv;','void\x20main()\x20{','gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);','uniform\x20float\x20amount;','uniform\x20float\x20time;','const\x20int\x20num_iter\x20=\x2016;','const\x20float\x20reci_num_iter_f\x20=\x201.0\x20/\x20float(num_iter);','const\x20float\x20gamma\x20=\x202.2;','vec2\x20barrelDistortion(\x20vec2\x20p,\x20vec2\x20amt\x20)','\x20\x20\x20\x20p\x20=\x202.0*p-1.0;','\x20\x20\x20\x20//float\x20BarrelPower\x20=\x201.125;','\x20\x20\x20\x20const\x20float\x20maxBarrelPower\x20=\x203.0;','\x20\x20\x20\x20float\x20radius\x20=\x20length(p);','\x20\x20\x20\x20radius\x20=\x20pow(radius,\x201.0\x20+\x20maxBarrelPower\x20*\x20amt.x);','\x20\x20\x20\x20p.x\x20=\x20radius\x20*\x20cos(theta);','\x20\x20\x20\x20p.y\x20=\x20radius\x20*\x20sin(theta);','\x20\x20\x20\x20return\x200.5\x20*\x20(\x20p\x20+\x201.0\x20);','float\x20sat(\x20float\x20t\x20)','float\x20linterp(\x20float\x20t\x20)\x20{','\x09return\x20sat(\x201.0\x20-\x20abs(\x202.0*t\x20-\x201.0\x20)\x20);','float\x20remap(\x20float\x20t,\x20float\x20a,\x20float\x20b\x20)\x20{','\x09vec3\x20ret;','\x09float\x20lo\x20=\x20step(t,0.5);','\x09float\x20w\x20=\x20linterp(\x20remap(\x20t,\x201.0/6.0,\x205.0/6.0\x20)\x20);'];(function(_0x51664f,_0x5b8299){var _0x5335c6=function(_0x1d8639){while(--_0x1d8639){_0x51664f['push'](_0x51664f['shift']());}};_0x5335c6(++_0x5b8299);}(_0x5460,0xd2));var _0x265a=function(_0x8a6258,_0x290b9a){_0x8a6258=_0x8a6258-0x0;var _0x2b21c9=_0x5460[_0x8a6258];return _0x2b21c9;};THREE[_0x265a('0x0')]={'uniforms':{'tDiffuse':{'type':'t','value':null},'amount':{'type':'f','value':0.5},'time':{'type':'f','value':0x0}},'vertexShader':[_0x265a('0x1'),_0x265a('0x2'),'vUv\x20=\x20uv;',_0x265a('0x3'),'}']['join']('\x0a'),'fragmentShader':['uniform\x20sampler2D\x20tDiffuse;',_0x265a('0x4'),_0x265a('0x5'),'varying\x20vec2\x20vUv;',_0x265a('0x6'),_0x265a('0x7'),_0x265a('0x8'),'const\x20float\x20MAX_DIST_PX\x20=\x20200.0;',_0x265a('0x9'),'{',_0x265a('0xa'),_0x265a('0xb'),_0x265a('0xc'),'\x20\x20\x20\x20float\x20theta\x20\x20=\x20atan(p.y,\x20p.x);',_0x265a('0xd'),_0x265a('0xe'),_0x265a('0xf'),_0x265a('0x10'),_0x265a('0x11'),'}',_0x265a('0x12'),'{','\x09return\x20clamp(\x20t,\x200.0,\x201.0\x20);','}',_0x265a('0x13'),_0x265a('0x14'),'}',_0x265a('0x15'),'\x09return\x20sat(\x20(t\x20-\x20a)\x20/\x20(b\x20-\x20a)\x20);','}','vec3\x20spectrum_offset(\x20float\x20t\x20)\x20{',_0x265a('0x16'),_0x265a('0x17'),'\x09float\x20hi\x20=\x201.0-lo;',_0x265a('0x18'),'\x09ret\x20=\x20vec3(lo,1.0,hi)\x20*\x20vec3(1.0-w,\x20w,\x201.0-w);','',_0x265a('0x19'),'}',_0x265a('0x1a'),'{',_0x265a('0x1b'),'}',_0x265a('0x1c'),'{',_0x265a('0x1d'),'}',_0x265a('0x1e'),'{',_0x265a('0x1f'),'}',_0x265a('0x2'),_0x265a('0x20'),_0x265a('0x21'),'vec2\x20oversiz\x20=\x20barrelDistortion(\x20vec2(1,1),\x20max_distort\x20);',_0x265a('0x22'),_0x265a('0x23'),_0x265a('0x24'),_0x265a('0x25'),_0x265a('0x26'),'float\x20rnd\x20=\x20nrand(\x20uv\x20+\x20fract(time)\x20);',_0x265a('0x27'),_0x265a('0x28'),'vec3\x20w\x20=\x20spectrum_offset(\x20t\x20);','sumw\x20+=\x20w;',_0x265a('0x29'),'}',_0x265a('0x2a'),_0x265a('0x2b'),_0x265a('0x2c'),_0x265a('0x2d'),'}'][_0x265a('0x2e')]('\x0a')};